<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shoping-Card</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">

</head>
<body>
    <section class="shoping-card py-lg-5 bg-light">
        <div class="container">

            <div class="row bg-success p-3">
                <div class="col-md-7 center-item mx-auto imghed">
                     <img src="/images/download (1).jpeg" alt="">
                     <h4>iPhone11 128Gb Black</h4>
                </div>
                <div class="col-md-5">
                    <div class="input-group number-spinner">
                        <button onclick="handleProductChange('iPhone11',false)" class="btn btn-default"><i class="fa fa-minus">-</i></button>
                        <input id="iPhone11-count" type="text" class="form-control text-center" value="1">
                        <button  onclick="handleProductChange('iPhone11',true)" class="btn btn-default"><i class="fa fa-plus">+</i></button>
                        <h4>$<span id="iPhone11-total">1102</span></h4>
                        <img src="/images/images.png" alt="" class="remove-product">
                    </div>
                    
                        
                    
                </div>
            </div>

            <div class="row bg-success p-3 mt-3">
                <div class="col-md-7 center-item mx-auto imghed">
                     <img src="/images/download.jpeg" alt="">
                     <h4>iPhone13 256Gb Golden</h4>
                </div>
                <div class="col-md-5">
                    <div class="input-group number-spinner">
                        <button onclick="handleProductChange('iPhone13',false)" class="btn btn-default"><i class="fa fa-minus">-</i></button>
                        <input id="iPhone13-count" type="text" class="form-control text-center" value="1">
                        <button onclick="handleProductChange('iPhone13',true)" class="btn btn-default"><i class="fa fa-plus">+</i></button>
                        <h4>$<span id="iPhone13-total">1302</span></h4>
                        <img src="/images/images.png" alt="" class="remove-product">
                    </div>          
                </div>
            </div>

            <div class="cart-item bg-danger">
                <div class="row">
                    <div class="col-md-8">
                        <h4>Subtotal</h4>
                        <h4>Tax</h4>
                        <h4>Total</h4>
                    </div>

                    <div class="col-md-4">
                        <h4>$<span id="total-price">1102</span></h4>
                        <h4>$<span id="tax-total">0</span></h4>
                        <h4>$<span id="total-count">1102</span></h4>
                    </div>
                </div>
            </div>

            <div class="card-btn">
                <div class="col-md-12 py-4 text-end">
                    <button type="button" class="btn btn-success check-out">Check Out</button>
                </div>
            </div>

        </div>
    </section>

    <script>

        function handleProductChange(product,isIncrease)
        {
            const productCount = getInputValue(product);
            let productNewCount = productCount;
            if(isIncrease == true)
            {
                productNewCount = productCount + 1;
            }
            if(isIncrease == false && productCount > 0)
            {
                productNewCount = productCount - 1;
            }

            document.getElementById(product + '-count').value = productNewCount;

            let productTotal = 0;

            if(product == 'iPhone11')
            {
                productTotal = productNewCount * 1102;
            }
            if(product == 'iPhone13')
            {
                productTotal = productNewCount * 1302;
            }
            document.getElementById(product + '-total').innerText = productTotal;

            calculateTotal();


        }

        function calculateTotal(){
            const phone11Count = getInputValue('iPhone11');
            const phone13Count = getInputValue('iPhone13');
            console.log(phone11Count);

            const totalPrice = phone11Count * 1102 + phone13Count * 1302;
            document.getElementById('total-price').innerText = totalPrice;

            const totalTax = totalPrice * 0.01;
            document.getElementById('tax-total').innerText = totalTax;

            const totalCount = totalPrice + totalTax;
            document.getElementById('total-count').innerText = totalCount;
        }

        function getInputValue(product){
            const productInput = document.getElementById(product + '-count');
            const productCount = parseInt(productInput.value);
            return productCount;
        }

        // function handleProductChange(isIncrease){
        //     const caseInput = document.getElementById('case-count');
        //     const caseCount = parseInt(caseInput.value);
        //     let caseNewCount = caseCount;
        //     if(isIncrease == true){
        //         caseNewCount = caseCount + 1;
        //     }
        //     if(isIncrease == false && caseCount>0)
        //     {
        //         caseNewCount = caseCount - 1;
        //     }
        //     caseInput.value = caseNewCount;

        //     // const unitValue = document.getElementById('case-total').innerText;
        //     // const unitNumber = parseInt(unitValue);

        //     const total = 1102 * caseNewCount;
        //     document.getElementById('case-total').innerText = total;
        // }
        // document.getElementById('care-increase').addEventListener('click',function(){
        //    const caseInput = document.getElementById('case-count');
        //    const caseCount = parseInt(caseInput.value);
        //    const caseNewCount = caseCount+1;
        //    caseInput.value = caseNewCount;

        //    const unitValue = document.getElementById('case-total').innerText;
        //    const unitNumber = parseFloat(unitValue);
        //    const caseTotal = caseNewCount * unitNumber;
        //    document.getElementById('case-total').innerText = caseTotal;

        // });
    </script>
</body>
</html>